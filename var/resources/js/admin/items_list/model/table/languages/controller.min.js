ItemsList.prototype.listeners.languages=function(handler){var lastDefaultCustomer=jQuery('input[type="radio"][name="defaultCustomer"]:checked'),lastDefaultAdmin=jQuery('input[type="radio"][name="defaultAdmin"]:checked')
function checkLanguagesDefaultRadioButton(type,current){var main=jQuery(current).parents('tr').eq(0),flag=0,switcher=main.find('.cell .action .inline-switcher input[type="checkbox"]:checked');if('customer'==type){prev=lastDefaultCustomer}else prev=lastDefaultAdmin;if(jQuery(switcher).length==0){switcher=main.find('.cell .action .inline-switcher input[type="checkbox"]');flag=(jQuery(switcher).length==0)}else{var remove=main.find('.cell .action .remove-wrapper button.remove.mark');if(jQuery(remove).length==0)flag=1};if(flag){jQuery(current).prop('checked','checked');if('customer'==type){lastDefaultCustomer=current}else lastDefaultAdmin=current}else{jQuery(current).prop('checked','');jQuery(prev).prop('checked','checked')}}
function toggleDefaultRadioButtonVisibility(elm,enable){var main=jQuery(elm).parents('tr').eq(0);if(enable){jQuery(elm).show();jQuery(main).removeClass('lock')}else{jQuery(elm).hide();jQuery(main).addClass('lock')}}
function hideLanguageSwitcher($input){$input.closest('tr').find('.actions.left').children().css('visibility','hidden')};jQuery('input[type="radio"][name="defaultCustomer"]').change(function(){checkLanguagesDefaultRadioButton('customer',this)});jQuery('input[type="radio"][name="defaultAdmin"]').change(function(){checkLanguagesDefaultRadioButton('admin',this)});jQuery('.input-field-wrapper.switcher').click(function(){var main=jQuery(this).parents('tr').eq(0),defC=main.find('.cell .language-defaultCustomer input[type="radio"]'),defA=main.find('.cell .language-defaultAdmin input[type="radio"]');if(!jQuery(this).hasClass('enabled')){var cond=(jQuery(defC)&&jQuery(defC).prop('checked'))||(jQuery(defA)&&jQuery(defA).prop('checked'));if(cond){var input=jQuery(':checkbox',this),widget=jQuery('.widget',this);input.prop('checked','checked');input.get(0).setAttribute('checked','checked');jQuery(this).addClass('enabled').removeClass('disabled');widget.attr('title',widget.data('disable-label'));main.parents('form').change()}else{toggleDefaultRadioButtonVisibility(defC,0);toggleDefaultRadioButtonVisibility(defA,0)}}else{toggleDefaultRadioButtonVisibility(defC,1);toggleDefaultRadioButtonVisibility(defA,1)}});jQuery('.cell .action .remove-wrapper').click(function(){var btn=jQuery('button.remove',this);if(jQuery(btn).hasClass('mark')){var main=jQuery(this).parents('tr').eq(0),switcher=main.find('.cell .language-defaultCustomer input[type="radio"]:checked');if(jQuery(switcher).length==0)switcher=main.find('.cell .language-defaultAdmin input[type="radio"]:checked');if(jQuery(switcher).length>0){var inp=jQuery('input',this).eq(0),cell=btn.parents('.line').eq(0);inp.removeAttr('checked');btn.removeClass('mark');cell.removeClass('remove-mark');cell.parents('form').change()}}});hideLanguageSwitcher(lastDefaultCustomer);hideLanguageSwitcher(lastDefaultAdmin)}