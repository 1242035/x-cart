function ItemsListPayment(elem){this.base=elem;this.addListeners()};ItemsListPayment.prototype.addListeners=function(){var base=this.base;jQuery('.switcher input[type=checkbox]',this.base).change(function(event){event.stopImmediatePropagation();core.trigger('payment.methods.switch',jQuery(this));return false});jQuery('.remove a',this.base).click(function(event){event.stopImmediatePropagation();core.trigger('payment.methods.remove',{href:jQuery(this).attr('href'),line:jQuery(this).closest('.cell'),base:base});return false});jQuery('.switcher',this.base).click(function(){console.log(this);var p=jQuery(this).parent().parent();if(p.hasClass('blocked-enable')){p.find('button.configure').addClass('hover');setTimeout(function(){p.find('button.configure').removeClass('hover')},1e3)}})};core.bind('payment.methods.switch',function(event,data){var $switch=data,methodId=$switch.data('methodId');core.get(window.URLHandler.buildURL({target:"payment_settings",action:'switch',id:methodId}),function(data){core.trigger('payment.methods.switch.loaded',{data:data,switcher:$switch})}).fail(function(){$switch.prop('checked',!$switch.prop('checked'))})});core.bind('payment.methods.remove',function(event,data){var line=data.line,base=data.base,href=data.href;core.get(href,function(){core.trigger('payment.methods.remove.loaded',{line:line,base:base})})});core.bind('payment.methods.remove.loaded',function(event,data){var moduleName=data.line.data('module-name');core.trigger('payment.methods.remove.loaded.started',data);event.stopImmediatePropagation();if(typeof data.line.donotRemove==='undefined'){if(data.line.hasClass('has-icon')){jQuery('.line-row, button',data.line).remove()}else data.line.remove();if(jQuery('[data-module-name="'+moduleName+'"] .line-row',data.base).length===0)jQuery('[data-module-name="'+moduleName+'"]',data.base).remove()}});core.microhandlers.add('ItemsListPaymentQueue','.items-list.methods',function(event){jQuery(this).each(function(index,elem){new ItemsListPayment(jQuery(elem))})})